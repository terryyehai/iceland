<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <title>Day 14 · 緩衝與自由安排｜冰島自駕 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="day.css" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="icon" href="./puffin-icon-192.png" type="image/png" />
    <link rel="apple-touch-icon" href="./puffin-icon-192.png" />
</head>
<body>
    <!-- 頂部導覽 -->
    <div class="top">
        <a class="back" href="day13.html">←</a>
        <div>
            <div class="top-title">Day 14 · 緩衝與自由安排</div>
            <div class="top-sub">8月14日（週五）</div>
        </div>
    </div>

    <!-- 頂部景點大圖 -->
    <div class="day-hero-img">
        <img src="images/day14.png" alt="Day 14 Hero Image" onerror="this.parentElement.style.display='none';" />
    </div>

    <!-- 日橫幅 -->
    <div class="banner" style="background:linear-gradient(135deg, #ec4899, #ec4899dd)">
        <div class="banner-num">14</div>
        <div class="banner-info">
            <div class="theme">緩衝與自由安排 ☕</div>
            <div class="meta">8月14日（週五）・🦞 龍蝦湯</div>
        </div>
    </div>

    <!-- 行程時間軸 -->
    <div class="sec-head">
        <div class="dot" style="background:#ec4899"></div>
        <h2><i data-lucide="map-pin"></i> 今日行程</h2>
    </div>
    <div class="timeline">

        <div class="tl-item">
            <div class="tl-line">
                <div class="tl-dot"></div>
                <div class="tl-bar"></div>
            </div>
            <div class="tl-card">
                <div class="tl-time-row">
                    <div class="tl-time">☕ 10:00</div>
                    <div style="display:flex;gap:8px;">
                        <button class="nav-btn play-btn" onclick="speakText('舊港區 (Old Harbour) 散步', '在港口邊悠閒漫步，這裡有老字號的海鮮湯店。')" title="播放景點導覽"><i data-lucide="volume-2"></i> 導覽</button>
                        <a href="https://www.google.com/maps/search/?api=1&query=%E8%88%8A%E6%B8%AF%E5%8D%80%20(Old%20Harbour)%20%E6%95%A3%E6%AD%A5%20Iceland" target="_blank" class="nav-btn"><i data-lucide="navigation"></i> 導航</a>
                    </div>
                </div>
                <div class="tl-title">舊港區 (Old Harbour) 散步</div>
                <div class="tl-desc">在港口邊悠閒漫步，這裡有老字號的海鮮湯店。</div>
                <div class="tl-tags"><span class="tl-tag">🦞 龍蝦湯</span></div>
            </div>
        </div>

        <div class="tl-item">
            <div class="tl-line">
                <div class="tl-dot"></div>
                <div class="tl-bar"></div>
            </div>
            <div class="tl-card">
                <div class="tl-time-row">
                    <div class="tl-time">🏛️ 12:00</div>
                    <div style="display:flex;gap:8px;">
                        <button class="nav-btn play-btn" onclick="speakText('參觀博物館', '可選擇前往 冰島國家博物館、極光中心 或 熱門的陰莖博物館參觀。')" title="播放景點導覽"><i data-lucide="volume-2"></i> 導覽</button>
                        <a href="https://www.google.com/maps/search/?api=1&query=%E5%8F%83%E8%A7%80%E5%8D%9A%E7%89%A9%E9%A4%A8%20Iceland" target="_blank" class="nav-btn"><i data-lucide="navigation"></i> 導航</a>
                    </div>
                </div>
                <div class="tl-title">參觀博物館</div>
                <div class="tl-desc">可選擇前往 冰島國家博物館、極光中心 或 熱門的陰莖博物館參觀。</div>
                <div class="tl-tags"><span class="tl-tag">🏛️ 博物館</span></div>
            </div>
        </div>

        <div class="tl-item">
            <div class="tl-line">
                <div class="tl-dot"></div>
                
            </div>
            <div class="tl-card">
                <div class="tl-time-row">
                    <div class="tl-time">🛍️ 15:00</div>
                    <div style="display:flex;gap:8px;">
                        <button class="nav-btn play-btn" onclick="speakText('打包行李', '享受在冰島最後的悠閒時光，整理準備明日的班機。')" title="播放景點導覽"><i data-lucide="volume-2"></i> 導覽</button>
                        <a href="https://www.google.com/maps/search/?api=1&query=%E6%89%93%E5%8C%85%E8%A1%8C%E6%9D%8E%20Iceland" target="_blank" class="nav-btn"><i data-lucide="navigation"></i> 導航</a>
                    </div>
                </div>
                <div class="tl-title">打包行李</div>
                <div class="tl-desc">享受在冰島最後的悠閒時光，整理準備明日的班機。</div>
                <div class="tl-tags"><span class="tl-tag">🧳 打包</span></div>
            </div>
        </div>
    </div>

    <!-- 住宿資訊 -->
    <div class="sec-head">
        <div class="dot" style="background:#0D9488"></div>
        <h2><i data-lucide="bed"></i> 今晚住宿</h2>
    </div>
    <div class="hotel-card">
        <div class="icon">🏨</div>
        <div>
            <div class="name">雷克雅維克住宿</div>
            <div class="desc">📍 最後一晚<br>🛏️ 第 14 晚</div>
        </div>
    </div>

    <!-- 地圖 -->
    <div class="sec-head">
        <div class="dot" style="background:#3B82F6"></div>
        <h2><i data-lucide="map"></i> 景點地圖</h2>
    </div>
    <div id="map"></div>

    <!-- 提示 -->
    <div class="sec-head">
        <div class="dot" style="background:#F87171"></div>
        <h2><i data-lucide="lightbulb"></i> 今日提醒</h2>
    </div>
    <div class="tips">

        <div class="tip"><span class="tip-ic"><i data-lucide="alert-circle"></i></span><span>市區內有許多壁畫與特色塗鴉，可穿插進行一趟街頭藝術巡禮。</span></div>
    </div>

    <!-- 導航按鈕 -->
    <div class="next-day"><a href="day15.html">Day 15 · 告別冰島 →</a></div>

    <script>
        // 地圖
        try {
            var map = L.map('map').setView([64.15, -21.94], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution:'© OSM', maxZoom:18 }).addTo(map);
            var spots = [];
            spots.forEach(function(s) {
                L.circleMarker([s.lat, s.lng], { radius:7, fillColor:s.c, color:'#fff', weight:2, fillOpacity:.9 })
                    .addTo(map).bindPopup('<b>' + s.name + '</b>');
            });
        } catch(e) { document.getElementById('map').innerHTML = '<div style="height:200px;display:flex;align-items:center;justify-content:center;background:#F3F4F6;border-radius:16px;color:#6B7280;">地圖載入中...</div>'; }

        // 大字體與深色模式
        if (localStorage.getItem('darkMode') === 'true') { document.body.classList.add('dark-mode'); }
        if (localStorage.getItem('largeText') === 'true') { document.body.classList.add('large-text'); }

        // Lucide Icons
        lucide.createIcons();

        // 景點語音導覽
        function speakText(title, desc) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel(); // 停止先前的播放
                var msg = new SpeechSynthesisUtterance("即將抵達" + title + "。 " + desc);
                msg.lang = 'zh-TW';
                msg.rate = parseFloat(localStorage.getItem('voiceRate') || '1.0'); 
                msg.pitch = 1.0;
                window.speechSynthesis.speak(msg);
            } else {
                alert("您的瀏覽器不支援語音導覽功能。");
            }
        }

        // 滾動動畫
        document.addEventListener('DOMContentLoaded', () => {
            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } });
            }, { threshold: 0.1 });
            document.querySelectorAll('.tl-item, .hotel-card, .tips').forEach(el => { el.classList.add('fade-up'); obs.observe(el); });
        });
    </script>
</body>
</html>